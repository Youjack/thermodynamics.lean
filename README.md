# å½¢å¼åŒ–çƒ­åŠ›å­¦â€”â€”ä»ç¬¬é›¶å®šå¾‹åˆ°çƒ­åŠ›å­¦æ¸©æ ‡

æœ¬æ–‡åŸºäºçƒ­æºå’Œçƒ­åŠ›å­¦å¾ªç¯ç­‰æ¦‚å¿µå½¢å¼åŒ–çƒ­åŠ›å­¦çš„éƒ¨åˆ†åŸºæœ¬æ¦‚å¿µã€å®šå¾‹å’Œå®šç†ï¼Œä¸»è¦å†…å®¹åŒ…æ‹¬ï¼š

* çƒ­å¹³è¡¡ã€çƒ­åŠ›å­¦ç¬¬é›¶å®šå¾‹
* çƒ­æº
* çƒ­åŠ›å­¦å¾ªç¯
* å¼€å°”æ–‡è¡¨è¿°å’Œå…‹åŠ³ä¿®æ–¯è¡¨è¿°åŠå…¶ç­‰ä»·æ€§
* çƒ­åŠ›å­¦æ¸©æ ‡

æœ¬æ–‡æœ‰ä¸¤ä¸ªç›®çš„ï¼Œä¸€æ˜¯ä¸ºåˆå­¦è€…æä¾›æ¯”å¸¸è§ç‰©ç†æœ¬ç§‘çƒ­åŠ›å­¦æ•™ææ›´ä¸¥è°¨çš„é€»è¾‘ï¼ŒäºŒæ˜¯å‘ç‰©ç†å­¦ç ”ç©¶è€…å±•ç¤ºä½¿ç”¨ç°ä»£è½¯ä»¶å½¢å¼åŒ–ç†è®ºç‰©ç†çš„ä¸€ä¸ªä¾‹å­ã€‚æœ¬æ–‡çš„æ‰€æœ‰å®šä¹‰å’Œå®šç†å‡å·²é€šè¿‡[Lean 4](https://leanprover-community.github.io)çš„å½¢å¼åŒ–éªŒè¯ï¼ˆé¡¹ç›®å·²ä¸Šä¼ è‡³[GitHub](https://github.com/Youjack/thermodynamics.lean)ï¼Œæœ¬æ–‡åŒæ—¶ä¹Ÿæ˜¯è¿™ä¸€é¡¹ç›®çš„READMEï¼‰ã€‚æœ¬æ–‡åªä¼šæåŠå¿…è¦çš„è¯æ˜ç»†èŠ‚ï¼Œå¦‚éœ€äº†è§£æ‰€æœ‰ç»†èŠ‚ï¼Œè¿˜è¯·é˜…è¯»Leanä»£ç ï¼ˆä½†çœ‹ä¸æ‡‚Leanä»£ç å¹¶ä¸å¦¨ç¢é˜…è¯»æœ¬æ–‡ï¼‰ã€‚

> çƒ­åŠ›å­¦çš„å…¬ç†åŒ–ï¼ˆå½¢å¼åŒ–ï¼‰å·²ç»åœ¨äºŒåä¸–çºªç”±[CarathÃ©odory](https://zhuanlan.zhihu.com/p/373071679)ç­‰äººç ”ç©¶è¿‡äº†ã€‚ä½†æœ¬æ–‡é‡‡ç”¨çš„æ˜¯å¸¸è§çƒ­åŠ›å­¦æ•™æï¼ˆå¦‚æ±ªå¿—è¯šçš„ã€Šçƒ­åŠ›å­¦Â·ç»Ÿè®¡ç‰©ç†ã€‹ï¼‰ä¸­çš„ä½“ç³»ï¼Œå¹¶ä¸æ¶‰åŠCarathÃ©odoryçš„ç†è®ºã€‚

## çƒ­åŠ›å­¦ç¬¬é›¶å®šå¾‹

> æœ¬èŠ‚å¯¹åº”æ–‡ä»¶[ZerothLaw.lean](https://github.com/Youjack/thermodynamics.lean/blob/master/Thermodynamics/ZerothLaw.lean)

è‡ªç„¶ç•Œä¸­æœ‰è®¸å¤šå¤„äºçƒ­å¹³è¡¡çš„ç³»ç»Ÿã€‚â€œ**çƒ­å¹³è¡¡**â€æ—¢å¯ç”¨äºæè¿°ä¸€ä¸ªç³»ç»Ÿçš„çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥ç”¨äºæè¿°åˆ†åˆ«å¤„äºçƒ­å¹³è¡¡çš„ä¸¤ä¸ªç³»ç»Ÿï¼ˆæˆ–ä¸€ä¸ªç³»ç»Ÿä¸­çš„ä¸¤ä¸ªå­ç³»ç»Ÿï¼‰çš„ç›¸äº’å…³ç³»ã€‚

```lean
axiom EquilSystem : Type -- çƒ­å¹³è¡¡ç³»ç»Ÿ
axiom mutualEquil : EquilSystem â†’ EquilSystem â†’ Prop -- çƒ­å¹³è¡¡å…³ç³»
```

**çƒ­åŠ›å­¦ç¬¬é›¶å®šå¾‹**è®²çš„æ˜¯ï¼šâ€œçƒ­å¹³è¡¡â€ä½œä¸ºï¼ˆåˆ†åˆ«å¤„äºçƒ­å¹³è¡¡çš„ï¼‰ä¸¤ä¸ªç³»ç»Ÿçš„ç›¸äº’å…³ç³»ï¼Œæ»¡è¶³ä¼ é€’æ€§ï¼šè‹¥ç³»ç»ŸAä¸ç³»ç»ŸBçƒ­å¹³è¡¡ï¼Œä¸”ç³»ç»ŸBä¸ç³»ç»ŸCçƒ­å¹³è¡¡ï¼Œåˆ™ç³»ç»ŸAä¸ç³»ç»ŸCçƒ­å¹³è¡¡ã€‚æˆ‘ä»¬è¿˜é»˜è®¤â€œçƒ­å¹³è¡¡â€æ»¡è¶³è‡ªåæ€§ï¼šç³»ç»ŸAä¸ç³»ç»ŸAçƒ­å¹³è¡¡ï¼›å’Œå¯¹ç§°æ€§ï¼šè‹¥ç³»ç»ŸAä¸ç³»ç»ŸBçƒ­å¹³è¡¡ï¼Œåˆ™ç³»ç»ŸBä¸ç³»ç»ŸAçƒ­å¹³è¡¡ã€‚

> â€œçƒ­å¹³è¡¡â€è¿™ç§åŒæ—¶æ»¡è¶³è‡ªåæ€§ã€å¯¹ç§°æ€§å’Œä¼ é€’æ€§çš„å…³ç³»åœ¨æ•°å­¦ä¸Šè¢«ç§°ä¸ºç­‰ä»·å…³ç³»ã€‚

```lean
axiom mutualEquil.iseqv : Equivalence mutualEquil
```

åˆ©ç”¨â€œçƒ­å¹³è¡¡â€è¿™ä¸€ç­‰ä»·å…³ç³»ï¼Œå¯ä»¥å°†çƒ­å¹³è¡¡ç³»ç»Ÿåˆ†ç±»ï¼Œå³ï¼Œè‹¥ç³»ç»ŸAä¸ç³»ç»ŸBçƒ­å¹³è¡¡ï¼Œåˆ™ç³»ç»ŸAä¸ç³»ç»ŸBå±äºåŒä¸€ä¸ªç±»ï¼›è‹¥ç³»ç»ŸAä¸ç³»ç»ŸBä¸æ»¡è¶³çƒ­å¹³è¡¡ï¼Œåˆ™ç³»ç»ŸAä¸ç³»ç»ŸBä¸å±äºåŒä¸€ä¸ªç±»ã€‚æœ¬æ–‡å°†è¿™äº›ç±»ç§°ä¸ºâ€œ**çƒ­æº(Reservoir)**â€ï¼Œå³ä¸€ä¸ªçƒ­æºæ˜¯ä¸€ç³»åˆ—ç›¸äº’çƒ­å¹³è¡¡çš„ç³»ç»Ÿçš„é›†åˆã€‚åœ¨åæ–‡ä¸­æˆ‘ä»¬å°†åªè®¨è®ºæŠ½è±¡çš„â€œçƒ­æºâ€ï¼Œè€Œä¸è€ƒè™‘å…·ä½“çš„ç³»ç»Ÿã€‚

> è¿™äº›ç”±ç­‰ä»·å…³ç³»å¯¼å‡ºçš„ç±»åœ¨æ•°å­¦ä¸Šè¢«ç§°ä¸ºç­‰ä»·ç±»ã€‚

```lean
instance EquilSystem.setoid : Setoid EquilSystem :=
  âŸ¨mutualEquil, mutualEquil.iseqvâŸ©
def Reservoir := Quotient EquilSystem.setoid
```

å¯¹äºä¸æ»¡è¶³çƒ­å¹³è¡¡çš„ä¸¤ä¸ªçƒ­æºï¼Œæˆ‘ä»¬è¿˜è¦å¼•å…¥â€œæ›´å†·â€ï¼ˆæˆ–â€œæ›´çƒ­â€ï¼‰çš„æ¦‚å¿µï¼Œå³ï¼Œä¸¤ä¸ªä¸æ»¡è¶³çƒ­å¹³è¡¡çš„çƒ­æºä¸­ä¸€å®šæœ‰ä¸€ä¸ªçƒ­æºæ¯”å¦ä¸€ä¸ªçƒ­æºæ›´å†·ï¼ˆæˆ–æ›´çƒ­ï¼‰ã€‚è¿™ä¸€â€œæ›´å†·â€çš„å…³ç³»åº”è¯¥æ»¡è¶³ä¼ é€’æ€§ï¼šè‹¥çƒ­æºAæ¯”çƒ­æºBæ›´å†·ï¼Œä¸”çƒ­æºBæ¯”çƒ­æºCæ›´å†·ï¼Œåˆ™çƒ­æºAæ¯”çƒ­æºCæ›´å†·ã€‚

> â€œæ›´å†·â€è¿™ä¸€å…³ç³»çš„ä¼ é€’æ€§åœ¨æ•°å­¦ä¸Šæ„å‘³ç€â€œçƒ­æºâ€çš„é›†åˆä¸Šå­˜åœ¨ä¸€ä¸ªçº¿åº(linear order)ã€‚

```lean
axiom Reservoir.linearOrder : LinearOrder Reservoir
```

## çƒ­åŠ›å­¦å¾ªç¯

> æœ¬èŠ‚å¯¹åº”æ–‡ä»¶[Cycle.lean](https://github.com/Youjack/thermodynamics.lean/blob/master/Thermodynamics/Cycle.lean)

æ ¹æ®çƒ­åŠ›å­¦ç¬¬ä¸€å®šå¾‹ï¼Œâ€œ**çƒ­åŠ›å­¦å¾ªç¯(Cycle)**â€å¯ä»¥è¢«æŠ½è±¡æˆä¸€ç§çƒ­åŠŸè½¬æ¢è¿‡ç¨‹ï¼Œå³ä»ä¸€äº›çƒ­æºå¸çƒ­æˆ–æ”¾çƒ­ï¼Œå¹¶æ¶ˆè€—æˆ–äº§ç”ŸåŠŸï¼Œä¸”æ»¡è¶³èƒ½é‡å®ˆæ’çš„è¿‡ç¨‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œå®šä¹‰çš„â€œçƒ­åŠ›å­¦å¾ªç¯â€å¹¶ä¸éœ€è¦æ»¡è¶³çƒ­åŠ›å­¦ç¬¬äºŒå®šå¾‹ã€‚

```lean
structure Cycle where
  ğ“  : Reservoir â†’â‚€ â„ -- çƒ­é‡
  ğ“¦ : â„ -- åŠŸ
  energy_conserv : ğ“ .sum_image - ğ“¦ = 0 -- èƒ½é‡å®ˆæ’
```

> è¿™é‡Œå®šä¹‰çš„`Cycle`åªä»æœ‰é™å¤šä¸ªçƒ­æºå¸/æ”¾çƒ­ã€‚ä»ä»»æ„å¤šä¸ªçƒ­æºå¸/æ”¾çƒ­çš„çƒ­åŠ›å­¦å¾ªç¯åœ¨æ•°å­¦ä¸Šè¾ƒä¸ºå¤æ‚ï¼Œæœ¬æ–‡ä¸è€ƒè™‘ã€‚

é˜è¿°çƒ­åŠ›å­¦ç¬¬äºŒå®šå¾‹æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€äº›ç‰¹æ®Šçš„çƒ­åŠ›å­¦å¾ªç¯ã€‚ä¸‹é¢å°†åˆ—ä¸¾è¿™äº›ç‰¹æ®Šçš„å¾ªç¯ã€‚

### OneRsvCycle

è¿™æ˜¯åªä»ä¸€ä¸ªçƒ­æºå¸/æ”¾çƒ­çš„å¾ªç¯ã€‚

```lean
structure OneRsvCycle (ğ“£ : Reservoir) extends Cycle where
  one_rsv : ğ“ .support = {ğ“£}
```

### AbsRelCycle

è¿™æ˜¯ä»ä¸€ä¸ªçƒ­æºå¸çƒ­ï¼Œå¹¶å‘å¦ä¸€ä¸ªçƒ­æºæ”¾çƒ­çš„å¾ªç¯ã€‚

```lean
structure AbsRelCycle (ğ“ ğ“¡ : Reservoir) extends Cycle where
  two_rsv : ğ“ .support = {ğ“, ğ“¡} âˆ§ ğ“ â‰  ğ“¡
  do_abs_rsv : 0 < ğ“  ğ“ -- ä»çƒ­æºğ“å¸çƒ­
  do_rel_rsv : ğ“  ğ“¡ < 0 -- å‘çƒ­æºğ“¡æ”¾çƒ­
```

### UsualEngineCycle

è¿™æ˜¯ä»ä¸€ä¸ªé«˜æ¸©çƒ­æºå¸çƒ­ï¼Œå‘å¦ä¸€ä¸ªä½æ¸©çƒ­æºæ”¾çƒ­ï¼Œå¹¶å¯¹å¤–åšåŠŸçš„å¾ªç¯ï¼Œè¿™ä¹Ÿæ˜¯æ•™æä¸Šå¸¸è§çš„åŠ¨åŠ›å¾ªç¯ã€‚

```lean
structure UsualEngineCycle {ğ“— ğ“’ : Reservoir} (_: ğ“’ < ğ“—) extends (AbsRelCycle ğ“— ğ“’) where
  do_work : 0 < ğ“¦
```

### UsualPumpCycle

è¿™æ˜¯æ¶ˆè€—å¤–ç•Œçš„åŠŸï¼Œå¹¶ä»ä¸€ä¸ªä½æ¸©çƒ­æºå¸çƒ­ï¼Œç„¶åå‘å¦ä¸€ä¸ªé«˜æ¸©çƒ­æºæ”¾çƒ­çš„å¾ªç¯ï¼Œè¿™ä¹Ÿæ˜¯æ•™æä¸Šå¸¸è§çš„çƒ­æ³µå¾ªç¯ï¼ˆæˆ–åˆ¶å†·å¾ªç¯ï¼‰ã€‚

```lean
structure UsualPumpCycle {ğ“’ ğ“— : Reservoir} (_: ğ“’ < ğ“—) extends (AbsRelCycle ğ“’ ğ“—) where
  do_pump : toCycle.Qabs < toCycle.Qrel
```

## å¼€å°”æ–‡è¡¨è¿°å’Œå…‹åŠ³ä¿®æ–¯è¡¨è¿°

> æœ¬èŠ‚å¯¹åº”æ–‡ä»¶[SecondLaw.lean](https://github.com/Youjack/thermodynamics.lean/blob/master/Thermodynamics/SecondLaw.lean)

## çƒ­åŠ›å­¦æ¸©æ ‡

> æœ¬èŠ‚å¯¹åº”æ–‡ä»¶[Temperature.lean](https://github.com/Youjack/thermodynamics.lean/blob/master/Thermodynamics/Temperature.lean)

æ ¹æ®çƒ­åŠ›å­¦ç¬¬ä¸€å®šå¾‹ï¼Œçƒ­åŠ›å­¦
